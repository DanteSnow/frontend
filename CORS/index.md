# [CS, Computer Science, FrontEnd] CORSëž€? (About CORS)

# ë“¤ì–´ê°€ë©°

![Cross Origin Resource Sharing](https://velog.velcdn.com/images/clydehan/post/ffab0e30-87a3-437c-a223-b820256aafe9/image.png)

> ì´ë¯¸ì§€ ì¶œì²˜ : [Youtube_The_TechCave](https://www.youtube.com/watch?v=h-WtIT6gCBk)

ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ ì‹œ **CORS** ë¬¸ì œëŠ” ë§¤ìš° í”í•˜ê²Œ ì ‘í•  ìˆ˜ ìžˆë‹¤. ì´ í¬ìŠ¤íŠ¸ì—ì„œëŠ” **CORSì˜ ê¸°ë³¸ ê°œë…**, **ë™ì¼ ì¶œì²˜ ì •ì±…**, **CORS ì—ëŸ¬ì™€ ê·¸ ì›ì¸**, **í”„ë¡ íŠ¸ì—”ë“œì—ì„œ CORS ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•**ì— ëŒ€í•´ ë‹¤ë£¬ë‹¤.

---

# CORSëž€?

**CORS(Cross-Origin Resource Sharing)** ëŠ” ì›¹ ë¸Œë¼ìš°ì €ê°€ ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ ë‹¤ë¥¸ ë„ë©”ì¸ì—ì„œ ìžì›ì„ ìš”ì²­í•  ë•Œ ë°œìƒí•˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ë°©ë²•ì´ë‹¤.

## ðŸ“Œ ë‹¤ë¥¸ ë„ë©”ì¸ì´ëž€?

ë„ë©”ì¸ì´ëž€ ì›¹ ì‚¬ì´íŠ¸ì˜ ì£¼ì†Œë¥¼ ë§í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `https://www.example.com`ê³¼ `https://api.example.com`ì€ ì„œë¡œ ë‹¤ë¥¸ ë„ë©”ì¸ì´ë‹¤. ë„ë©”ì¸ì€ í”„ë¡œí† ì½œ, ë„ë©”ì¸ ì´ë¦„, í¬íŠ¸ ì„¸ ê°€ì§€ ìš”ì†Œë¡œ êµ¬ì„±ëœë‹¤. ì´ ì„¸ ìš”ì†Œê°€ ëª¨ë‘ ë™ì¼í•´ì•¼ ê°™ì€ ë„ë©”ì¸ìœ¼ë¡œ ê°„ì£¼ëœë‹¤.

```plaintext
ì¶œì²˜ ì˜ˆì‹œ:
- https://www.example.com (ë„ë©”ì¸ ì´ë¦„)
- https://www.example.com:80 (ë„ë©”ì¸ ì´ë¦„ + í¬íŠ¸)
```

## ðŸ“Œ ìžì› ìš”ì²­?

ì›¹ íŽ˜ì´ì§€ê°€ ë¡œë“œëœ ë„ë©”ì¸ê³¼ ë‹¤ë¥¸ ë„ë©”ì¸ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë ¤ê³  í•  ë•Œ, ì´ë¥¼ **ë‹¤ë¥¸ ë„ë©”ì¸ì—ì„œ ìžì›ì„ ìš”ì²­**í•œë‹¤ê³  í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `https://www.example.com`ì—ì„œ ë¡œë“œëœ ì›¹ íŽ˜ì´ì§€ê°€ `https://api.example.com/data`ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë ¤ê³  í•˜ë©´, ì´ê²ƒì´ **ë‹¤ë¥¸ ë„ë©”ì¸ì—ì„œ ìžì›ì„ ìš”ì²­**í•˜ëŠ” ê²ƒì´ë‹¤.

---

# ë™ì¼ ì¶œì²˜ ì •ì±…(Same-Origin Policy)ì´ëž€?

**ë™ì¼ ì¶œì²˜ ì •ì±…**ì€ ì›¹ ë¸Œë¼ìš°ì €ê°€ ë³´ì•ˆì„ ìœ„í•´ í˜„ìž¬ ì›¹ íŽ˜ì´ì§€ì™€ ë‹¤ë¥¸ ì¶œì²˜ì˜ ìžì›ì„ ìš”ì²­í•˜ëŠ” ê²ƒì„ ì œí•œí•˜ëŠ” ê·œì¹™ì´ë‹¤. ì¶œì²˜ëŠ” í”„ë¡œí† ì½œ, ë„ë©”ì¸, í¬íŠ¸ ì„¸ ê°€ì§€ ìš”ì†Œë¡œ êµ¬ì„±ëœë‹¤. ì´ ì„¸ ìš”ì†Œê°€ ëª¨ë‘ ë™ì¼í•´ì•¼ ê°™ì€ ì¶œì²˜ë¡œ ê°„ì£¼ëœë‹¤.

---

## ðŸ“Œ ë™ì¼ ì¶œì²˜ ì •ì±…ì´ í•„ìš”í•œ ì´ìœ 

**ë™ì¼ ì¶œì²˜ ì •ì±…**ì´ í•„ìš”í•œ ì´ìœ ëŠ” **ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë³´ì•ˆì„ ê°•í™”**í•˜ê¸° ìœ„í•´ì„œì´ë‹¤. ë‹¤ìŒì€ ë™ì¼ ì¶œì²˜ ì •ì±…ì´ í•„ìš”í•œ ì£¼ìš” ì´ìœ ë“¤ì´ë‹¤.

### ðŸ’¡ ì‚¬ìš©ìž ë°ì´í„° ë³´í˜¸

**ë™ì¼ ì¶œì²˜ ì •ì±…**ì€ ì•…ì˜ì ì¸ ì›¹ ì‚¬ì´íŠ¸ê°€ ì‚¬ìš©ìžì˜ ì¤‘ìš”í•œ **ë°ì´í„°ë¥¼ í›”ì¹˜ëŠ” ê²ƒì„ ë°©ì§€**í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìžê°€ ì€í–‰ ì›¹ ì‚¬ì´íŠ¸ì— ë¡œê·¸ì¸í•œ ìƒíƒœì—ì„œ ì•…ì˜ì ì¸ ì›¹ ì‚¬ì´íŠ¸ê°€ ì‚¬ìš©ìžì˜ ì€í–‰ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ì§€ ëª»í•˜ë„ë¡ ë§‰ì•„ì¤€ë‹¤.

### ðŸ’¡ ì„¸ì…˜ í•˜ì´ìž¬í‚¹ ë°©ì§€

**ë™ì¼ ì¶œì²˜ ì •ì±…**ì€ ì„¸ì…˜ í•˜ì´ìž¬í‚¹ì„ ë°©ì§€í•œë‹¤. ì„¸ì…˜ í•˜ì´ìž¬í‚¹ì€ ì‚¬ìš©ìžê°€ íŠ¹ì • ì›¹ ì‚¬ì´íŠ¸ì— ë¡œê·¸ì¸í•œ ìƒíƒœì—ì„œ **ë‹¤ë¥¸ ì›¹ ì‚¬ì´íŠ¸ê°€ ì‚¬ìš©ìžì˜ ì„¸ì…˜ì„ ê°€ë¡œì±„ëŠ” ê³µê²©**ì´ë‹¤. ë™ì¼ ì¶œì²˜ ì •ì±…ì€ ì´ëŸ¬í•œ ê³µê²©ì„ ë§‰ì•„ì¤€ë‹¤.

### ðŸ’¡ ë°ì´í„° ë¬´ê²°ì„± ìœ ì§€

ë™ì¼ ì¶œì²˜ ì •ì±…ì€ ë°ì´í„°ì˜ ë¬´ê²°ì„±ì„ ìœ ì§€í•œë‹¤. ì•…ì˜ì ì¸ ì›¹ ì‚¬ì´íŠ¸ê°€ **ë‹¤ë¥¸ ì¶œì²˜ì˜ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì¡°ìž‘í•˜ì§€ ëª»í•˜ë„ë¡ ë³´ìž¥**í•œë‹¤.

---

# CORSì˜ ê¸°ë³¸ ê°œë…

**CORS**ëŠ” ì›¹ íŽ˜ì´ì§€ê°€ ë‹¤ë¥¸ ì¶œì²˜ì˜ ìžì›ì„ ìš”ì²­í•  ë•Œ, ì„œë²„ê°€ ì´ ìš”ì²­ì„ í—ˆìš©í•  ìˆ˜ ìžˆë„ë¡ íŠ¹ì • í—¤ë”ë¥¼ ì¶”ê°€í•˜ì—¬ ë¸Œë¼ìš°ì €ì— ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ë°©ì‹ì´ë‹¤. ì´ëŠ” ì„œë²„ì™€ ë¸Œë¼ìš°ì € ê°„ì˜ í˜‘ë ¥ì„ í†µí•´ ë™ì¼ ì¶œì²˜ ì •ì±…ì„ ìš°íšŒí•  ìˆ˜ ìžˆë„ë¡ í•œë‹¤.

## ðŸ“Œ CORSì˜ ë™ìž‘ ë°©ì‹

**CORS**ëŠ” ì„œë²„ê°€ ìš”ì²­ì„ í—ˆìš©í• ì§€ ì—¬ë¶€ë¥¼ ë¸Œë¼ìš°ì €ì—ê²Œ ì•Œë ¤ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ìž‘í•œë‹¤. ì„œë²„ëŠ” **íŠ¹ì • HTTP í—¤ë”**ë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ì„ í—ˆìš©í•˜ê±°ë‚˜ ê±°ë¶€í•  ìˆ˜ ìžˆë‹¤.

1. **ë¸Œë¼ìš°ì €ê°€ ì„œë²„ì— ìš”ì²­ì„ ë³´ëƒ„**
   í´ë¼ì´ì–¸íŠ¸(ë¸Œë¼ìš°ì €)ê°€ ë‹¤ë¥¸ ì¶œì²˜ì˜ ìžì›ì„ ìš”ì²­í•  ë•Œ, ë¸Œë¼ìš°ì €ëŠ” í•´ë‹¹ ìš”ì²­ì— CORS ê´€ë ¨ í—¤ë”ë¥¼ ì¶”ê°€í•œë‹¤.

2. **ì„œë²„ê°€ ì‘ë‹µì„ ë³´ëƒ„**
   ì„œë²„ëŠ” ìš”ì²­ì„ ë°›ê³ , ìš”ì²­ì´ í—ˆìš©ë  ê²½ìš° CORS ê´€ë ¨ í—¤ë”ë¥¼ í¬í•¨í•˜ì—¬ ì‘ë‹µì„ ë³´ë‚¸ë‹¤.

3. **ë¸Œë¼ìš°ì €ê°€ ì‘ë‹µì„ í™•ì¸í•¨**
   ë¸Œë¼ìš°ì €ëŠ” ì„œë²„ì˜ ì‘ë‹µì„ í™•ì¸í•˜ê³ , CORS ê´€ë ¨ í—¤ë”ê°€ í¬í•¨ë˜ì–´ ìžˆìœ¼ë©´ ìžì›ì— ì ‘ê·¼ì„ í—ˆìš©í•œë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì ‘ê·¼ì„ ì°¨ë‹¨í•œë‹¤.

### ðŸ’¡ CORS í—¤ë”

ì„œë²„ëŠ” ë‹¤ìŒê³¼ ê°™ì€ **CORS ê´€ë ¨ í—¤ë”**ë¥¼ ì„¤ì •í•˜ì—¬ ë¸Œë¼ìš°ì €ì— ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•œë‹¤.

- **Access-Control-Allow-Origin**: ì ‘ê·¼ì„ í—ˆìš©í•  ë„ë©”ì¸
- **Access-Control-Allow-Methods**: í—ˆìš©í•  HTTP ë©”ì„œë“œ
- **Access-Control-Allow-Headers**: í—ˆìš©í•  ìš”ì²­ í—¤ë”
- **Access-Control-Allow-Credentials**: ìžê²© ì¦ëª…ì„ í¬í•¨í•œ ìš”ì²­ í—ˆìš© ì—¬ë¶€

---

# CORS ì—ëŸ¬ì™€ ì›ì¸

**CORS ì—ëŸ¬**ëŠ” ë¸Œë¼ìš°ì €ê°€ ë‹¤ë¥¸ ì¶œì²˜ì˜ ìžì›ì„ ìš”ì²­í•  ë•Œ ë°œìƒí•  ìˆ˜ ìžˆë‹¤. **ì¼ë°˜ì ì¸ CORS ì—ëŸ¬**ì™€ ê·¸ ì›ì¸ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

## ðŸ“Œ CORS ì—ëŸ¬ì˜ ì˜ˆì‹œì™€ ì›ì¸

### ðŸ’¡ No 'Access-Control-Allow-Origin' header is present on the requested resource

- ì„œë²„ê°€ Access-Control-Allow-Origin í—¤ë”ë¥¼ ì„¤ì •í•˜ì§€ ì•Šì•˜ë‹¤. ì´ ê²½ìš° ë¸Œë¼ìš°ì €ëŠ” ìš”ì²­ì„ ì°¨ë‹¨í•œë‹¤.
- **í•´ê²° ë°©ë²•**: ì„œë²„ ì„¤ì •ì„ ë³€ê²½í•˜ì—¬ í•´ë‹¹ í—¤ë”ë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤.

### ðŸ’¡ The value of the 'Access-Control-Allow-Origin' header in the response must not be the wildcard '\*' when the request's credentials mode is 'include'

- ìžê²© ì¦ëª…ì„ í¬í•¨í•œ ìš”ì²­ì˜ ê²½ìš°, Access-Control-Allow-Origin í—¤ë”ì— ì™€ì¼ë“œì¹´ë“œ `*`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. íŠ¹ì • ë„ë©”ì¸ì„ ëª…ì‹œí•´ì•¼ í•œë‹¤.
- **í•´ê²° ë°©ë²•**: Access-Control-Allow-Origin í—¤ë”ì— íŠ¹ì • ë„ë©”ì¸ì„ ëª…ì‹œí•œë‹¤.

### ðŸ’¡ CORS preflight channel did not succeed

- ì˜ˆë¹„ ìš”ì²­(preflight request)ì— ëŒ€í•œ ì‘ë‹µì´ ì‹¤íŒ¨í–ˆê±°ë‚˜, ì„œë²„ê°€ ì˜¬ë°”ë¥¸ CORS í—¤ë”ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šì•˜ë‹¤.
- **í•´ê²° ë°©ë²•**: ì„œë²„ê°€ ì˜ˆë¹„ ìš”ì²­ì— ëŒ€í•´ ì˜¬ë°”ë¥¸ CORS í—¤ë”ë¥¼ ë°˜í™˜í•˜ë„ë¡ ì„¤ì •ì„ ì¡°ì •í•œë‹¤.

---

# í”„ë¡ íŠ¸ì—”ë“œì—ì„œ CORS ë¬¸ì œ í•´ê²°í•˜ê¸°

**CORS**ë¥¼ í•´ê²°í•  ìˆ˜ ìžˆëŠ” ë°©ë²•ì€ ì—¬ëŸ¬ ê°€ì§€ì´ë‹¤. ì´ í¬ìŠ¤íŠ¸ì—ì„œëŠ” ëŒ€í‘œì ìœ¼ë¡œ ì¼ë°˜ì ì¸ **í”„ë¡ íŠ¸ì—”ë“œì—ì„œ CORS ì—ëŸ¬ë¥¼ í•´ê²°í•  ìˆ˜ ìžˆëŠ” ë°©ë²•** í•˜ë‚˜ì— ëŒ€í•´ì„œë§Œ ë‹¤ë£¬ë‹¤.

## ðŸ“Œ í”„ë¡ì‹œ ì„œë²„ ì‚¬ìš©

ë¡œì»¬ ê°œë°œ í™˜ê²½ì—ì„œ í”„ë¡ì‹œ ì„œë²„ë¥¼ ì„¤ì •í•˜ì—¬ **CORS ë¬¸ì œë¥¼ ìš°íšŒ**í•  ìˆ˜ ìžˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `Webpack Dev Server`ë‚˜ `Create React App`ì˜ í”„ë¡ì‹œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.

```js
// ì˜ˆì‹œ: Create React Appì˜ setupProxy.js íŒŒì¼
const { createProxyMiddleware } = require("http-proxy-middleware");

module.exports = function (app) {
  app.use(
    "/api",
    createProxyMiddleware({
      target: "https://api.example.com",
      changeOrigin: true,
    })
  );
};
```

---

# ê²°ë¡ 

í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìžë¡œì„œ CORS ë¬¸ì œëŠ” ì¼ìƒì ìœ¼ë¡œ ì ‘í•  ìˆ˜ ìžˆëŠ” ë„ì „ ê³¼ì œ ì¤‘ í•˜ë‚˜ì´ë‹¤. CORSëŠ” ì›¹ ë³´ì•ˆì„ ìœ„í•´ ë°˜ë“œì‹œ í•„ìš”í•˜ì§€ë§Œ, ê°œë°œ ê³¼ì •ì—ì„œëŠ” ë¶ˆíŽ¸í•¨ì„ ì´ˆëž˜í•  ìˆ˜ ìžˆë‹¤.

CORS ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì„œë²„ ì¸¡ ì„¤ì •ì„ ì¡°ì •í•˜ëŠ” ê²ƒì´ ê°€ìž¥ ì´ìƒì ì´ì§€ë§Œ, í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìž ìž…ìž¥ì—ì„œëŠ” ì„œë²„ì— ì ‘ê·¼í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ë„ ë§Žë‹¤. ì´ëŸ´ ë•ŒëŠ” í”„ë¡ì‹œ ì„œë²„ë¥¼ ì„¤ì •í•˜ê±°ë‚˜ ë¸Œë¼ìš°ì € í™•ìž¥ í”„ë¡œê·¸ëž¨ì„ í™œìš©í•˜ëŠ” ë“±ì˜ ë°©ë²•ì„ í†µí•´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìžˆë‹¤.

ì¤‘ìš”í•œ ì ì€, CORSì— ëŒ€í•œ ê¹Šì€ ì´í•´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë¬¸ì œë¥¼ ë¹ ë¥´ê²Œ ì§„ë‹¨í•˜ê³  ì ì ˆí•œ ëŒ€ì‘ ë°©ë²•ì„ ì°¾ëŠ” ê²ƒì´ë‹¤. í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìžë¡œì„œ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ë¯¸ë¦¬ ì˜ˆì¸¡í•˜ê³  ì¤€ë¹„í•¨ìœ¼ë¡œì¨ ê°œë°œ ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ë¶ˆí•„ìš”í•œ ì§€ì—°ì„ ìµœì†Œí™”í•  ìˆ˜ ìžˆë‹¤.

ìµœì¢…ì ìœ¼ë¡œ, CORS ë¬¸ì œëŠ” ì›¹ ê°œë°œì—ì„œ í”¼í•  ìˆ˜ ì—†ëŠ” ë¶€ë¶„ì´ì§€ë§Œ, ë‹¤ì–‘í•œ í•´ê²° ë°©ë²•ì„ ìµí˜€ë‘ë©´ ì‹¤ë¬´ì—ì„œ í° ë„ì›€ì´ ëœë‹¤.

---

# ì°¸ê³  ë¬¸í—Œ

> - [MDN_CORS](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS)

- [Stack Overflow: Common CORS Issues](https://stackoverflow.com/questions/tagged/cors)
